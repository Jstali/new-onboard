🚀 Server running on port 5001
📧 Email configured for: alphanxzen@gmail.com
🔍 PUT /api/expenses/hr/12/approve - 2025-09-06T10:11:26.284Z
✅ Expense approval notification sent to employee: stalinj@nxzen.com
🔍 POST /api/auth/login - 2025-09-06T10:14:09.161Z
🔍 POST /api/auth/login - 2025-09-06T10:14:09.302Z
🔍 POST /api/auth/login - 2025-09-06T10:14:09.382Z
🔍 GET /api/leave/types - 2025-09-06T10:14:09.457Z
🔍 GET /api/leave/system-info - 2025-09-06T10:14:09.469Z
🔍 GET /api/attendance/stats - 2025-09-06T10:14:09.481Z
🔍 GET /api/attendance/team-attendance - 2025-09-06T10:14:09.505Z
🔍 Team attendance request - Manager ID: 12 Dates: 2025-09-01 to 2025-09-30
🔍 Team members count for manager 12 : 1
🔍 Team member IDs: [ 41 ]
🔍 Team attendance query result count: 6
🔍 POST /api/expenses/submit - 2025-09-06T10:14:09.521Z
🔍 Expense request received: [Object: null prototype] {
  expenseCategory: 'Meals',
  expenseType: 'Meals',
  amount: '250.00',
  description: 'Team lunch',
  expenseDate: '2025-01-16',
  receiptNumber: 'RCP002'
}
🔍 Files uploaded: [
  {
    fieldname: 'attachments',
    originalname: 'test_receipt.png',
    encoding: '7bit',
    mimetype: 'image/png',
    destination: '/Users/stalin_j/Downloads/test2/onboard/backend/uploads/expenses',
    filename: 'attachments-1757153649524-211652289.png',
    path: '/Users/stalin_j/Downloads/test2/onboard/backend/uploads/expenses/attachments-1757153649524-211652289.png',
    size: 70
  }
]
🔍 Found managers for employee 41 : [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
🔍 Retrieved managers: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
🔍 Managers found: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
📧 Sending email to PRIMARY manager only: strawhatluff124@gmail.com
📧 sendExpenseRequestToManager called with: {
  managerEmail: 'strawhatluff124@gmail.com',
  expenseRequest: { id: 13, employeeName: 'stalin J' }
}
📧 Note: Email sent only to primary manager. Optional managers (manager2, manager3) will not receive emails.
✅ Expense request email sent to manager: strawhatluff124@gmail.com
📧 Email sent to primary manager: true
